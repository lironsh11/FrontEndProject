<div class="jumbotron text-center">
    <app-nav-bar></app-nav-bar>


    <br><br/>

	<div *ngIf="isAdd" class="container">
		<div class="row centered-form">
			<div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Add New User <small>Only Admin!</small></h3>
					</div>
					<div class="panel-body">
						<form role="form">
							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="text" class="form-control input-sm" placeholder="Full Name"
											#fullname>
										{{errormsg}}{{fullNameErrorMsg}}
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="number" class="form-control input-sm" placeholder="Id" maxlength="9" #id
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
										{{errormsg}}
									</div>

								</div>
							</div>

							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="text" class="form-control input-sm" placeholder="User Name"
											#username>
										{{errormsg}}
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="date" class="form-control input-sm" placeholder="DayOfBirth"
											#birthday>
									</div>

								</div>
							</div>

							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">

										Select gender

										<select class="form-control input-sm" #gender>
											<option value="Male">Male</option>
											<option value="Female">Female</option>
										</select>

									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										Picture URL
										<input type="text" class="form-control input-sm" placeholder="Picture" #pic>
									</div>

								</div>
							</div>

							<div class="form-group">
								<input type="email" class="form-control input-sm" placeholder="Email Address" #email>
								{{errormsg}} {{emailErrorMsg}}
							</div>
							<div class="form-group">
								<input type="password" class="form-control input-sm" placeholder="Password" #password>
								{{errormsg}}
							</div>

							<div class="form-group">
                                <select class="form-control input-sm"  #role>
                                    <option value="Normal User">Normal User</option>
                                    <option value="Employee">Employee</option>
                                    <option value="Admin">Admin</option>
                                  
                                </select>
								
							</div>
							<input type="button" value="Save" class="btn btn-info btn-block"
								(click)="addUser(id.value , fullname.value, username.value ,gender.value, email.value , password.value ,role.value, birthday.value, pic.value)">
								{{doneEdit}}
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
    
	<div *ngIf="isEdit" class="container">
		<div class="row centered-form">
			<div class="col-xs-12 col-sm-8 col-md-4 col-sm-offset-2 col-md-offset-4">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Edit User <small>Only Admin!</small></h3>
					</div>
					<div class="panel-body">
						<form role="form">
							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="text" class="form-control input-sm" placeholder="Full Name" value="{{currectUser.fullName}}"
											#fullname>
											{{errormsg}}{{fullNameErrorMsg}}
									
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="number" value="{{currectUser.id}}" class="form-control input-sm" placeholder="Id" maxlength="9" #id
										oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
										{{errormsg}}
									</div>

								</div>
							</div>

							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="text" value="{{currectUser.userName}}"  class="form-control input-sm" placeholder="User Name"
											#username>
											{{errormsg}}
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<input type="date" value="{{currectUser.dateOfBirth}}" class="form-control input-sm" placeholder="DayOfBirth"
											#birthday>
									</div>

								</div>
							</div>

							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">

										Select gender

										<select class="form-control input-sm" value="{{currectUser.gender}}" #gender>
											<option value="Male">Male</option>
											<option value="Female">Female</option>
										</select>

									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										Picture URL
										<input type="text" value="{{currectUser.picture}}" class="form-control input-sm" placeholder="Picture" #pic>
									</div>

								</div>
							</div>

							<div class="form-group">
								<input type="email" value="{{currectUser.email}}" class="form-control input-sm" placeholder="Email Address" #email>
								{{errormsg}} {{emailErrorMsg}}
							</div>
							<div class="form-group">
								<input type="password" value="{{currectUser.password}}" class="form-control input-sm" placeholder="Password" #password>
								{{errormsg}}
                            </div>
                            <div class="form-group">
                                <select class="form-control input-sm" value="{{currectUser.role}}" #role>
                                    <option value="Normal User">Normal User</option>
                                    <option value="Employee">Employee</option>
                                    <option value="Admin">Admin</option>
                                  
                                </select>
								
							</div>
							<input type="button" value="Save" (click)="editUser( fullname.value, username.value, gender.value, email.value, password.value,role.value,birthday.value, pic.value)" class="btn btn-info btn-block"
								>
							{{doneEdit}}
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<input *ngIf="role === 'Admin'" type="button" value="Add New User"  class="btn btn-info " (click)="getAdd()"
	>
	<br><br/>
	<h1 *ngIf="!( role === 'Admin')"> You Don't Have Permission to Access this page!</h1>
	<table *ngIf="role === 'Admin'"  id="users" style="width:80%" align="center" >
  <tr>
    <th>Id</th>
    <th>FullName</th>
    <th>UserName</th>
    <th>DateOfBirth</th>
    <th>Gender</th>
    <th>Email</th> 
    <th>Password</th>
    <th>Picture</th>
    <th>Role</th>    
	<th>Edit</th>
	<th>Delete</th>
  </tr>
  <tr *ngFor= "let i of arrUsersInfo  " >
    <td>{{i.id}}</td>
    <td>{{i.fullName}}</td>
    <td>{{i.userName}}</td>
    <td>{{i.dateOfBirth}}</td>
    <td>{{i.gender}}</td>
    <td>{{i.email}}</td>
   <td>{{i.password}}</td>
   <td>{{i.picture}}</td>
   <td>{{i.role}}</td>
   <td><img class="iconimg"  src="assets/edit.png" (click)="getUser(i)"></td>
   <td><img class="iconimg"  src="assets/delete.png" (click)="getDeleteUser(i)"></td>
  </tr>
  

  
  
</table>
</div>
